<!DOCTYPE html>
<html manifest="manifest/demo.appcache">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
    <title>Psychologist.js</title>
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link type="text/css" rel="stylesheet" href="css/demo.css">
</head>
<body>
    <div id="onScreenControls">
        <a id="github" href="https://github.com/capnmidnight/VR"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
        <a class="primary button" id="menuButton" title="menu"></a>
        <a class="primary button" id="fsButton" title="fullscreen"></a>
    </div>
    <div id="loading" class="loadBar">
        <div class="progressBar" id="triedSoFar" style="background-color:#333"></div>
        <div class="progressBar" id="processedSoFar" style="background-color:#666"></div>
        <div class="progressBar" id="loadedSoFar" style="background-color:#999"></div>
        <div class="progressBar" id="errorSoFar" style="background-color: #700"></div>
    </div>
    <section id="options">
        <a class="primary button closeSectionButton altClose">X</a>

        <h1>Psychologist.js: a WebGL VR Framework</h1>

        <div class="tabSet">

            <label>Login</label>
            <div>                
                <div id="appCacheMessage"></div>
                <div id="loadingMessage">Loading, please wait...</div>
                <div id="loginForm" style="display:none;">
                    <input type="text" id="userNameField" placeholder="<user name>"><br />
                    <input type="text" id="emailField" placeholder="<e-mail>"><br />
                    <input type="password" id="passwordField" placeholder="<password>"><br />
                    <select id="deviceTypes"></select><br />
                    <input type="checkbox" id="defaultDisplay" checked>
                    <label for="defaultDisplay">Use this device as the default display.</label><br>
                    <input type="checkbox" id="autoLogin" checked>
                    <label for="autoLogin">Stay logged in.</label><br>
                    <a class="primary button" id="connectButton">Connect to Server</a>
                </div>
                <p>
                    If this is you're first time joining, a new user account 
                    will be created for you.
                </p>
                <p>
                    Login from multiple devices to use them together, 
                    e.g. combine keyboard and mouse actions from your PC with
                    motion tracking and VR view on your smartphone.
                </p>
            </div>
            
            <label>Chat</label>
            <div>
                <div id="chatLog"></div>
                <input type="text" id="textEntry" placeholder="<type message and hit enter>" size="30" data-skipcache="true" />
            </div>

            <label>Controls</label>
            <table>
                <thead>
                    <tr>
                        <th>Command</th>
                        <th>Keyboard</th>
                        <th>Mouse</th>
                        <th>Touch</th>
                        <th>Gamepad</th>
                        <th>Speech</th>
                        <th>Leap Motion</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="alternateRow">
                        <td>View options</td>
                        <td>~</td>
                        <td>click three bar icon</td>
                        <td>tap three bar icon</td>
                        <td>Select button</td>
                        <td>say "options"</td>
                        <td>--</td>
                    </tr>
                    <tr>
                        <td>Move forward</td>
                        <td>W, up arrow</td>
                        <td>--</td>
                        <td>touch-drag down</td>
                        <td>left-stick up</td>
                        <td>--</td>
                        <td>--</td>
                    </tr>
                    <tr class="alternateRow">
                        <td>Move backward</td>
                        <td>S, down arrow</td>
                        <td>--</td>
                        <td>touch-drag up</td>
                        <td>left-stick down</td>
                        <td>--</td>
                        <td>--</td>
                    </tr>
                    <tr>
                        <td>Strafe left</td>
                        <td>A, left arrow</td>
                        <td>--</td>
                        <td>--</td>
                        <td>left-stick left</td>
                        <td>--</td>
                        <td>--</td>
                    </tr>
                    <tr class="alternateRow">
                        <td>Strafe right</td>
                        <td>D, right arrow</td>
                        <td>--</td>
                        <td>--</td>
                        <td>left-stick right</td>
                        <td>--</td>
                        <td>--</td>
                    </tr>
                    <tr>
                        <td>Turn left</td>
                        <td>--</td>
                        <td>move left</td>
                        <td>touch-drag right</td>
                        <td>right-stick left</td>
                        <td>--</td>
                        <td>--</td>
                    </tr>
                    <tr class="alternateRow">
                        <td>Turn right</td>
                        <td>--</td>
                        <td>move right</td>
                        <td>touch-drag left</td>
                        <td>right-stick right</td>
                        <td>--</td>
                        <td>--</td>
                    </tr>
                    <tr>
                        <td>Look up</td>
                        <td>--</td>
                        <td>move down</td>
                        <td>--</td>
                        <td>right-stick down</td>
                        <td>--</td>
                        <td>--</td>
                    </tr>
                    <tr class="alternateRow">
                        <td>Look down</td>
                        <td>--</td>
                        <td>move up</td>
                        <td>--</td>
                        <td>right-stick up</td>
                        <td>--</td>
                        <td>--</td>
                    </tr>
                    <tr>
                        <td>Jump</td>
                        <td>spacebar</td>
                        <td>middle-click</td>
                        <td>--</td>
                        <td>A-button</td>
                        <td>say "jump"</td>
                        <td>--</td>
                    </tr>
                    <tr class="alternateRow">
                        <td>Chat entry</td>
                        <td>T, then type text</td>
                        <td>--</td>
                        <td>tap speech balloon icon, type text in textbox</td>
                        <td>--</td>
                        <td>say "message", then speak message</td>
                        <td>--</td>
                    </tr>
                    <tr>
                        <td>Cancel chat</td>
                        <td>ESC</td>
                        <td>--</td>
                        <td>--</td>
                        <td>--</td>
                        <td>--</td>
                        <td>--</td>
                    </tr>
                    <tr class="alternateRow">
                        <td>Send chat</td>
                        <td>Enter</td>
                        <td>--</td>
                        <td>Enter</td>
                        <td>--</td>
                        <td>finish speaking</td>
                        <td>--</td>
                    </tr>
                </tbody>
            </table>

            <label>Input</label>
            <table>
                <thead>
                    <tr>
                        <th>Input Type</th>
                        <th>Enable</th>
                        <th>Transmit</th>
                        <th>Receive</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="inputOptions">
                    <tr>
                        <td>Speech</td>
                        <td><input type="checkbox" id="speechEnable" /></td>
                        <td><input type="checkbox" id="speechTransmit" /></td>
                        <td><input type="checkbox" id="speechReceive" /></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Keyboard</td>
                        <td><input type="checkbox" id="keyboardEnable" checked /></td>
                        <td><input type="checkbox" id="keyboardTransmit" checked /></td>
                        <td><input type="checkbox" id="keyboardReceive" checked /></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Mouse</td>
                        <td><input type="checkbox" id="mouseEnable" checked /></td>
                        <td><input type="checkbox" id="mouseTransmit" checked /></td>
                        <td><input type="checkbox" id="mouseReceive" checked /></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Leap Motion</td>
                        <td><input type="checkbox" id="leapEnable" checked /></td>
                        <td><input type="checkbox" id="leapTransmit" checked /></td>
                        <td><input type="checkbox" id="leapReceive" checked /></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Gamepad</td>
                        <td><input type="checkbox" id="gamepadEnable" checked /></td>
                        <td><input type="checkbox" id="gamepadTransmit" checked /></td>
                        <td><input type="checkbox" id="gamepadReceive" checked /></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Touch</td>
                        <td><input type="checkbox" id="touchEnable" checked /></td>
                        <td><input type="checkbox" id="touchTransmit" checked /></td>
                        <td><input type="checkbox" id="touchReceive" checked /></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Head</td>
                        <td><input type="checkbox" id="headEnable" checked /></td>
                        <td><input type="checkbox" id="headTransmit" checked /></td>
                        <td><input type="checkbox" id="headReceive" checked /></td>
                        <td><a class="primary button" id="headZero">Zero</a></td>
                    </tr>
                </tbody>
            </table>

            <label>Graphics</label>
            <table>
                <tbody>
                    <tr><td><select id="renderingStyle" style="width:100%;font-size:200%;">
                        <option value="regular">Use Regular Rendering</option>
                        <option value="rift">Use Stereo Rendering with Barrel Distortion</option>
                        <option value="anaglyph">Use Cyan/Red Anaglyph Rendering</option>
                        <option value="stereo">Use Basic Stereo Rendering</option>
                    </select></td></tr>                        
                    <tr><td><a class="primary button" id="fullScreenButton">Toggle Full Screen</a></td></tr>
                    <tr><td><a class="primary button" id="pointerLockButton">Set Pointer Lock (and close options window)</a></td></tr>
                </tbody>
            </table>

            <label>About</label>
            <div>
                <p>This WebGL application demonstrates the use of open source software--such as Blender for 3D modeling--and open standards (HTML5, WebGL, Collada, etc.) to be able to experience 3D scenes with a variety of output features (stereo rendering, 3D audio) and input systems (keyboard, mouse, touch screen, motion tracking, gamepads) on a variety of platforms. Most of these options are enabled in the options menu, accessible from the button in the lower-left corner.</p>
                <p>Additionally, the project includes a proxying system for user input. By loading the application in separate browser sessions and specifying a secret key in the options screen, the browser sessions will share between each other the commands the user has activated. This is useful for Google Cardboard-style head-mounted displays built around smartphones, allowing this user to utilize the keyboard, mouse, or gamepad attached to their PC with the application running on the smartphone. NOTE: you will experience a lot of latency if you setup the proxy connection with this Website. This feature is primarily suggested for use on local WiFi networks, with the application hosted on your own PC.</p>
                <p>When you close this box, the application will go into full screen mode. If you prefer to hide the mouse cursor, there is an option to activate the mouse cursor lock in the options screen. When you are done, just hit your escape key on your keyboard, or tap your phones' menu button, to exit full screen mode.</p>
                <h2>Screenshot</h2>
                <img src="img/screenshot.png" alt="screenshot" style="width:100%" />
                <h2>Credits</h2>
                <p>
                    <ul>
                        <li>Background music: <a href="http://www.hive76.org/hive76-mourns-the-loss-of-our-friend-and-president-brendan-schrader">Brendan Schrader</a></li>
                        <li>Ambient sound: <a href="https://soundcloud.com/alejandro-erickson/juan-de-fuca-campfire-and-ocean">Alejandro Erickson</a></li>
                        <li>Programming, modeling, and texture work: Sean T. McBeth</li>
                    </ul>
                </p>
            </div>
        </div>
        <a class="primary button closeSectionButton">Close</a>
    </section>
    <script type="text/javascript" src="js/psychologist.js"></script>
    <script type="text/javascript" src="js/controllers/demo.js"></script>
</body>
</html>
